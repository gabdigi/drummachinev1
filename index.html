<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		 <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<link rel="stylesheet" href="style2.css" />
		<title>drum machine</title>
	</head>
	<body>
		<main>
			<div class="keys">
				<div data-key="83" class="key">
					<kbd>s</kbd>
				</div>
				<div data-key="68" class="key">
					<kbd>d</kbd>
				</div>
				<div data-key="70" class="key">
					<kbd>f</kbd>
				</div>
			</div>
		</main>
			<audio data-key="83" src="sonds/clap.mp3"></audio>
			<audio data-key="68" src="sonds/boom.wav"></audio>
			<audio data-key="70" src="sonds/kick.wav"></audio>
		<!------------------------------------------Script Drum machine----------------------------------------->
		<script>
			  function removeTransition(e) {
			    if (e.propertyName !== 'transform') return;
			    e.target.classList.remove('playing');
			  }

			  function playSound(e) {
			    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
			    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
			    if (!audio) return;

			    key.classList.add('playing');
			    audio.currentTime = 0;
			    audio.play();
			  }

			  const keys = Array.from(document.querySelectorAll('.key'));
			  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
			  window.addEventListener('keydown', playSound);
		</script>
	</body>
</html>